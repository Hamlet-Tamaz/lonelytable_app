extends ../layout.jade

block content
	h1 #{venue.name}
	
	div#tablesIndex
		div#venueInTables.venueListDiv(class='col col-xs-offset-1')
			div.info(class='col col-xs-4')
				p Location: #{venue.street_address}, #{venue.city}, #{venue.zipcode}
				p Music: #{venue.music}
				p Clientele: #{venue.clientele}
			div.pic(class='col col-xs-offset-4')
				img.venueImg(src=venue.pic1)
				div#starsReviews
					img(src=venue.stars)
					p # of reviews: #{venue.reviews}
		div.venueDescription(class='col col col-xs-8')
			h3 What to look forward to! 
			p= venue.description
		div#map
		div#pano
		br

		h1 Tables

		div.tableItems
			each table in tables
				div.tableListDiv(class='')
					div.info(class='col col-xs-4 ')
						h3 #{table.name}
						p Status: 
							if (table.status === 'open') 
								button#statusClosed.btn.btn-lg
									span(class='glyphicon glyphicon-ok-circle glyphicon-lg')
							else
								button#statusOpen.btn.btn-lg
									span(class='glyphicon glyphicon-remove-circle')
						p Description: #{table.description}
						p Total Cost: $#{table.cost}
						p Max Table Capacity: #{table.maxCapacity}
						p Min $/Person: $#{table.cost / table.maxCapacity}
						button#joinTable
							if (table.status === 'open')
								a(type='button' class='btn btn-sm' href='/venues/#{venue.id}/tables/#{table.id}/reservations/new') JOIN TABLE
							else
								a(type='button' id='noJoin' class='btn btn-sm' href='#') JOIN TABLE
					div.pic(class='col col-xs-offset-4')
						img.tableImg(src=venue.pic2)
		script(src="/javascripts/venue_map.js")
		script(async defer src="https://maps.googleapis.com/maps/api/js?key="+process.env.GOOGLE_MAPS+"&callback=initMap")

